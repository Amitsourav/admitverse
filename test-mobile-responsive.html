<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdmitVerse Mobile Responsiveness Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        
        .device-grid {
            display: grid;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .device-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .device-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .device-info h2 {
            font-size: 1.2rem;
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .device-info p {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .device-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .status-testing {
            background: #fef3c7;
            color: #d97706;
        }
        
        .status-pass {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-fail {
            background: #fee2e2;
            color: #dc2626;
        }
        
        .iframe-wrapper {
            position: relative;
            background: #f3f4f6;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 20px;
        }
        
        iframe {
            width: 100%;
            border: none;
            border-radius: 8px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #667eea;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: #6b7280;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .test-results {
            background: #f9fafb;
            border-radius: 10px;
            padding: 15px;
        }
        
        .test-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 8px;
            background: white;
        }
        
        .test-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .pass {
            background: #10b981;
            color: white;
        }
        
        .fail {
            background: #ef4444;
            color: white;
        }
        
        .warning {
            background: #f59e0b;
            color: white;
        }
        
        .device-frame {
            margin: 0 auto;
            transition: all 0.3s ease;
        }
        
        .mobile-frame {
            max-width: 375px;
        }
        
        .tablet-frame {
            max-width: 768px;
        }
        
        .desktop-frame {
            max-width: 100%;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            z-index: 10;
        }
        
        .spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .summary-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .summary-item {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: #f9fafb;
        }
        
        .summary-value {
            font-size: 2rem;
            font-weight: bold;
            color: #1f2937;
        }
        
        .summary-label {
            color: #6b7280;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“± AdmitVerse Mobile Responsiveness Test</h1>
        
        <div class="summary-card">
            <h2>Test Summary</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-value" id="total-tests">0</div>
                    <div class="summary-label">Total Tests</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="passed-tests" style="color: #10b981;">0</div>
                    <div class="summary-label">Passed</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="failed-tests" style="color: #ef4444;">0</div>
                    <div class="summary-label">Failed</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="score">0%</div>
                    <div class="summary-label">Score</div>
                </div>
            </div>
        </div>
        
        <div class="device-grid">
            <!-- Mobile Device Test -->
            <div class="device-container">
                <div class="device-header">
                    <div class="device-info">
                        <h2>ðŸ“± Mobile View</h2>
                        <p>iPhone 12 Pro (390 x 844)</p>
                    </div>
                    <div class="device-status status-testing" id="mobile-status">Testing...</div>
                </div>
                
                <div class="controls">
                    <button class="btn" onclick="testDevice('mobile')">Run Tests</button>
                    <button class="btn btn-secondary" onclick="rotateDevice('mobile')">Rotate</button>
                    <button class="btn btn-secondary" onclick="refreshFrame('mobile')">Refresh</button>
                </div>
                
                <div class="iframe-wrapper">
                    <div class="loading-overlay" id="mobile-loading">
                        <div class="spinner"></div>
                    </div>
                    <div class="device-frame mobile-frame" id="mobile-frame">
                        <iframe 
                            id="mobile-iframe" 
                            src="http://localhost:3000" 
                            height="844"
                            onload="hideLoading('mobile')"
                        ></iframe>
                    </div>
                </div>
                
                <div class="test-results" id="mobile-results">
                    <h3>Test Results:</h3>
                    <div id="mobile-test-list"></div>
                </div>
            </div>
            
            <!-- Tablet Device Test -->
            <div class="device-container">
                <div class="device-header">
                    <div class="device-info">
                        <h2>ðŸ“² Tablet View</h2>
                        <p>iPad Pro (768 x 1024)</p>
                    </div>
                    <div class="device-status status-testing" id="tablet-status">Testing...</div>
                </div>
                
                <div class="controls">
                    <button class="btn" onclick="testDevice('tablet')">Run Tests</button>
                    <button class="btn btn-secondary" onclick="rotateDevice('tablet')">Rotate</button>
                    <button class="btn btn-secondary" onclick="refreshFrame('tablet')">Refresh</button>
                </div>
                
                <div class="iframe-wrapper">
                    <div class="loading-overlay" id="tablet-loading">
                        <div class="spinner"></div>
                    </div>
                    <div class="device-frame tablet-frame" id="tablet-frame">
                        <iframe 
                            id="tablet-iframe" 
                            src="http://localhost:3000" 
                            height="600"
                            onload="hideLoading('tablet')"
                        ></iframe>
                    </div>
                </div>
                
                <div class="test-results" id="tablet-results">
                    <h3>Test Results:</h3>
                    <div id="tablet-test-list"></div>
                </div>
            </div>
            
            <!-- Desktop View -->
            <div class="device-container">
                <div class="device-header">
                    <div class="device-info">
                        <h2>ðŸ’» Desktop View</h2>
                        <p>Full Width (1920 x 1080)</p>
                    </div>
                    <div class="device-status status-testing" id="desktop-status">Testing...</div>
                </div>
                
                <div class="controls">
                    <button class="btn" onclick="testDevice('desktop')">Run Tests</button>
                    <button class="btn btn-secondary" onclick="refreshFrame('desktop')">Refresh</button>
                </div>
                
                <div class="iframe-wrapper">
                    <div class="loading-overlay" id="desktop-loading">
                        <div class="spinner"></div>
                    </div>
                    <div class="device-frame desktop-frame" id="desktop-frame">
                        <iframe 
                            id="desktop-iframe" 
                            src="http://localhost:3000" 
                            height="600"
                            onload="hideLoading('desktop')"
                        ></iframe>
                    </div>
                </div>
                
                <div class="test-results" id="desktop-results">
                    <h3>Test Results:</h3>
                    <div id="desktop-test-list"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let testResults = {
            mobile: [],
            tablet: [],
            desktop: []
        };
        
        function hideLoading(device) {
            document.getElementById(`${device}-loading`).style.display = 'none';
        }
        
        function refreshFrame(device) {
            document.getElementById(`${device}-loading`).style.display = 'flex';
            const iframe = document.getElementById(`${device}-iframe`);
            iframe.src = iframe.src;
        }
        
        function rotateDevice(device) {
            const frame = document.getElementById(`${device}-frame`);
            const iframe = document.getElementById(`${device}-iframe`);
            
            if (device === 'mobile') {
                if (frame.style.maxWidth === '844px') {
                    frame.style.maxWidth = '390px';
                    iframe.height = '844';
                } else {
                    frame.style.maxWidth = '844px';
                    iframe.height = '390';
                }
            } else if (device === 'tablet') {
                if (frame.style.maxWidth === '1024px') {
                    frame.style.maxWidth = '768px';
                    iframe.height = '1024';
                } else {
                    frame.style.maxWidth = '1024px';
                    iframe.height = '768';
                }
            }
        }
        
        function testDevice(device) {
            const tests = [
                { name: 'Navigation Menu Visible', check: checkNavigation },
                { name: 'Content Readable', check: checkReadability },
                { name: 'Images Responsive', check: checkImages },
                { name: 'Forms Accessible', check: checkForms },
                { name: 'Buttons Tappable', check: checkButtons },
                { name: 'No Horizontal Scroll', check: checkScroll },
                { name: 'Text Size Appropriate', check: checkTextSize },
                { name: 'Touch Targets 44px+', check: checkTouchTargets }
            ];
            
            const results = [];
            const iframe = document.getElementById(`${device}-iframe`);
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            tests.forEach(test => {
                try {
                    const result = test.check(iframeDoc, device);
                    results.push({
                        name: test.name,
                        passed: result,
                        status: result ? 'pass' : 'fail'
                    });
                } catch (error) {
                    results.push({
                        name: test.name,
                        passed: false,
                        status: 'warning',
                        error: error.message
                    });
                }
            });
            
            testResults[device] = results;
            displayResults(device, results);
            updateStatus(device, results);
            updateSummary();
        }
        
        function checkNavigation(doc, device) {
            const nav = doc.querySelector('nav');
            if (!nav) return false;
            
            if (device === 'mobile') {
                // Check for hamburger menu
                const menuButton = doc.querySelector('button[class*="menu"], button[class*="hamburger"]');
                return menuButton !== null;
            }
            
            return nav.offsetWidth > 0;
        }
        
        function checkReadability(doc) {
            const body = doc.body;
            const fontSize = window.getComputedStyle(body).fontSize;
            return parseInt(fontSize) >= 14;
        }
        
        function checkImages(doc) {
            const images = doc.querySelectorAll('img');
            let responsive = true;
            
            images.forEach(img => {
                if (img.width > doc.body.clientWidth) {
                    responsive = false;
                }
            });
            
            return responsive;
        }
        
        function checkForms(doc) {
            const inputs = doc.querySelectorAll('input, textarea, select');
            if (inputs.length === 0) return true;
            
            let accessible = true;
            inputs.forEach(input => {
                const height = input.offsetHeight;
                if (height < 36) accessible = false;
            });
            
            return accessible;
        }
        
        function checkButtons(doc) {
            const buttons = doc.querySelectorAll('button, a[class*="btn"]');
            if (buttons.length === 0) return true;
            
            let tappable = true;
            buttons.forEach(btn => {
                const rect = btn.getBoundingClientRect();
                if (rect.width < 44 || rect.height < 44) {
                    tappable = false;
                }
            });
            
            return tappable;
        }
        
        function checkScroll(doc) {
            return doc.body.scrollWidth <= doc.body.clientWidth;
        }
        
        function checkTextSize(doc) {
            const paragraphs = doc.querySelectorAll('p');
            if (paragraphs.length === 0) return true;
            
            let appropriate = true;
            paragraphs.forEach(p => {
                const fontSize = window.getComputedStyle(p).fontSize;
                if (parseInt(fontSize) < 14) appropriate = false;
            });
            
            return appropriate;
        }
        
        function checkTouchTargets(doc, device) {
            if (device === 'desktop') return true;
            
            const clickables = doc.querySelectorAll('a, button, input, select, textarea');
            let adequate = true;
            
            clickables.forEach(element => {
                const rect = element.getBoundingClientRect();
                if (rect.width < 44 || rect.height < 44) {
                    adequate = false;
                }
            });
            
            return adequate;
        }
        
        function displayResults(device, results) {
            const listElement = document.getElementById(`${device}-test-list`);
            listElement.innerHTML = '';
            
            results.forEach(result => {
                const item = document.createElement('div');
                item.className = 'test-item';
                
                const icon = document.createElement('div');
                icon.className = `test-icon ${result.status}`;
                icon.textContent = result.passed ? 'âœ“' : 'âœ—';
                
                const text = document.createElement('span');
                text.textContent = result.name;
                
                item.appendChild(icon);
                item.appendChild(text);
                listElement.appendChild(item);
            });
        }
        
        function updateStatus(device, results) {
            const statusElement = document.getElementById(`${device}-status`);
            const passed = results.filter(r => r.passed).length;
            const total = results.length;
            
            if (passed === total) {
                statusElement.className = 'device-status status-pass';
                statusElement.textContent = 'All Passed';
            } else if (passed > total / 2) {
                statusElement.className = 'device-status status-warning';
                statusElement.textContent = `${passed}/${total} Passed`;
            } else {
                statusElement.className = 'device-status status-fail';
                statusElement.textContent = `${passed}/${total} Passed`;
            }
        }
        
        function updateSummary() {
            let totalTests = 0;
            let passedTests = 0;
            
            Object.values(testResults).forEach(deviceResults => {
                totalTests += deviceResults.length;
                passedTests += deviceResults.filter(r => r.passed).length;
            });
            
            document.getElementById('total-tests').textContent = totalTests;
            document.getElementById('passed-tests').textContent = passedTests;
            document.getElementById('failed-tests').textContent = totalTests - passedTests;
            
            const score = totalTests > 0 ? Math.round((passedTests / totalTests) * 100) : 0;
            document.getElementById('score').textContent = `${score}%`;
        }
        
        // Auto-run tests after page loads
        setTimeout(() => {
            testDevice('mobile');
            testDevice('tablet');
            testDevice('desktop');
        }, 3000);
    </script>
</body>
</html>